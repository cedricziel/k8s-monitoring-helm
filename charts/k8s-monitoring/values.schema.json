{
  "$schema": "http://json-schema.org/schema#",
  "type": "object",
  "properties": {
    "cluster": {
      "type": "object",
      "properties": {
        "kubernetesAPIService": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "platform": {
          "type": "string",
          "enum": [
            "",
            "openshift"
          ]
        }
      },
      "required": [
        "name"
      ]
    },
    "externalServices": {
      "type": "object",
      "properties": {
        "loki": {
          "type": "object",
          "properties": {
            "authMode": {
              "type": "string",
              "enum": [
                "none",
                "basic"
              ]
            },
            "basicAuth": {
              "type": "object",
              "properties": {
                "password": {
                  "type": "string"
                },
                "passwordKey": {
                  "type": "string"
                },
                "username": {
                  "type": [
                    "integer",
                    "string"
                  ]
                },
                "usernameKey": {
                  "type": "string"
                }
              }
            },
            "externalLabels": {
              "type": "object"
            },
            "host": {
              "type": "string"
            },
            "hostKey": {
              "type": "string"
            },
            "proxyURL": {
              "type": "string"
            },
            "secret": {
              "type": "object",
              "properties": {
                "create": {
                  "type": "boolean"
                },
                "name": {
                  "type": "string"
                },
                "namespace": {
                  "type": "string"
                }
              }
            },
            "tenantId": {
              "type": [
                "integer",
                "string"
              ]
            },
            "tenantIdKey": {
              "type": "string"
            },
            "writeEndpoint": {
              "type": "string"
            }
          }
        },
        "prometheus": {
          "type": "object",
          "properties": {
            "authMode": {
              "type": "string",
              "enum": [
                "none",
                "basic"
              ]
            },
            "basicAuth": {
              "type": "object",
              "properties": {
                "password": {
                  "type": "string"
                },
                "passwordKey": {
                  "type": "string"
                },
                "username": {
                  "type": [
                    "integer",
                    "string"
                  ]
                },
                "usernameKey": {
                  "type": "string"
                }
              }
            },
            "externalLabels": {
              "type": "object"
            },
            "host": {
              "type": "string"
            },
            "hostKey": {
              "type": "string"
            },
            "proxyURL": {
              "type": "string"
            },
            "queryEndpoint": {
              "type": "string"
            },
            "secret": {
              "type": "object",
              "properties": {
                "create": {
                  "type": "boolean"
                },
                "name": {
                  "type": "string"
                },
                "namespace": {
                  "type": "string"
                }
              }
            },
            "tenantId": {
              "type": [
                "integer",
                "string"
              ]
            },
            "tenantIdKey": {
              "type": "string"
            },
            "writeEndpoint": {
              "type": "string"
            },
            "writeRelabelConfigRules": {
              "type": "string"
            }
          }
        },
        "tempo": {
          "type": "object",
          "properties": {
            "authMode": {
              "type": "string",
              "enum": [
                "none",
                "basic"
              ]
            },
            "basicAuth": {
              "type": "object",
              "properties": {
                "password": {
                  "type": "string"
                },
                "passwordKey": {
                  "type": "string"
                },
                "username": {
                  "type": [
                    "integer",
                    "string"
                  ]
                },
                "usernameKey": {
                  "type": "string"
                }
              }
            },
            "host": {
              "type": "string"
            },
            "hostKey": {
              "type": "string"
            },
            "secret": {
              "type": "object",
              "properties": {
                "create": {
                  "type": "boolean"
                },
                "name": {
                  "type": "string"
                },
                "namespace": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "extraConfig": {
      "type": "string"
    },
    "kube-state-metrics": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        }
      }
    },
    "logs": {
      "type": "object",
      "properties": {
        "cluster_events": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "namespaces": {
              "type": "array"
            }
          }
        },
        "enabled": {
          "type": "boolean"
        },
        "extraConfig": {
          "type": "string"
        },
        "pod_logs": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "extraStageBlocks": {
              "type": "string"
            },
            "namespaces": {
              "type": "array"
            }
          }
        }
      }
    },
    "metrics": {
      "type": "object",
      "properties": {
        "agent": {
          "type": "object",
          "properties": {
            "allowList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "extraMetricRelabelingRules": {
              "type": "string"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "labelMatchers": {
              "type": "object",
              "properties": {
                "app.kubernetes.io/name": {
                  "type": "string"
                }
              }
            },
            "scrapeInterval": {
              "type": "string"
            }
          }
        },
        "cadvisor": {
          "type": "object",
          "properties": {
            "allowList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "extraMetricRelabelingRules": {
              "type": "string"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "scrapeInterval": {
              "type": "string"
            }
          }
        },
        "cost": {
          "type": "object",
          "properties": {
            "allowList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "extraMetricRelabelingRules": {
              "type": "string"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "labelMatchers": {
              "type": "object",
              "properties": {
                "app.kubernetes.io/name": {
                  "type": "string"
                }
              }
            },
            "scrapeInterval": {
              "type": "string"
            }
          }
        },
        "enabled": {
          "type": "boolean"
        },
        "extraMetricRelabelingRules": {
          "type": "string"
        },
        "extraRelabelingRules": {
          "type": "string"
        },
        "kube-state-metrics": {
          "type": "object",
          "properties": {
            "allowList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "extraMetricRelabelingRules": {
              "type": "string"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "labelMatchers": {
              "type": "object",
              "properties": {
                "app.kubernetes.io/name": {
                  "type": "string"
                }
              }
            },
            "scrapeInterval": {
              "type": "string"
            },
            "service": {
              "type": "object",
              "properties": {
                "isTLS": {
                  "type": "boolean"
                },
                "port": {
                  "type": "string"
                }
              }
            }
          }
        },
        "kubelet": {
          "type": "object",
          "properties": {
            "allowList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "extraMetricRelabelingRules": {
              "type": "string"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "scrapeInterval": {
              "type": "string"
            }
          }
        },
        "kubernetesMonitoring": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            }
          }
        },
        "node-exporter": {
          "type": "object",
          "properties": {
            "allowList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "extraMetricRelabelingRules": {
              "type": "string"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "labelMatchers": {
              "type": "object",
              "properties": {
                "app.kubernetes.io/name": {
                  "type": "string"
                }
              }
            },
            "scrapeInterval": {
              "type": "string"
            },
            "service": {
              "type": "object",
              "properties": {
                "isTLS": {
                  "type": "boolean"
                }
              }
            }
          }
        },
        "podMonitors": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "namespaces": {
              "type": "array"
            }
          }
        },
        "probes": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "namespaces": {
              "type": "array"
            }
          }
        },
        "scrapeInterval": {
          "type": "string"
        },
        "serviceMonitors": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean"
            },
            "namespaces": {
              "type": "array"
            }
          }
        },
        "windows-exporter": {
          "type": "object",
          "properties": {
            "allowList": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "extraMetricRelabelingRules": {
              "type": "string"
            },
            "extraRelabelingRules": {
              "type": "string"
            },
            "labelMatchers": {
              "type": "object",
              "properties": {
                "app.kubernetes.io/name": {
                  "type": "string"
                }
              }
            },
            "scrapeInterval": {
              "type": "string"
            }
          }
        }
      }
    },
    "opencost": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        }
      }
    },
    "prometheus-node-exporter": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        }
      }
    },
    "prometheus-operator-crds": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        }
      }
    },
    "prometheus-windows-exporter": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        }
      }
    },
    "test": {
      "type": "object",
      "properties": {
        "image": {
          "type": "object",
          "properties": {
            "image": {
              "type": "string"
            },
            "registry": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            }
          }
        }
      }
    },
    "traces": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "processors": {
          "type": "object",
          "properties": {
            "batch": {
              "type": "object",
              "properties": {
                "size": {
                  "type": "integer"
                },
                "timeout": {
                  "type": "string"
                }
              }
            }
          }
        },
        "receiver": {
          "type": "object",
          "properties": {
            "grpc": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean"
                },
                "port": {
                  "type": "integer"
                }
              }
            },
            "http": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean"
                },
                "port": {
                  "type": "integer"
                }
              }
            },
            "port": {
              "type": "null"
            }
          }
        }
      }
    }
  },
  "required": [
    "cluster"
  ]
}
